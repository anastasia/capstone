(function(e){function t(t){for(var s,i,o=t[0],c=t[1],l=t[2],d=0,h=[];d<o.length;d++)i=o[d],r[i]&&h.push(r[i][0]),r[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);u&&u(t);while(h.length)h.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],s=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(s=!1)}s&&(n.splice(t--,1),e=i(i.s=a[0]))}return e}var s={},r={ngrams:0},n=[];function i(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=s,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(a,s,function(t){return e[t]}.bind(null,s));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/static/dist/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;n.push([5,"chunk-vendors"]),a()})({"0fd5":function(e,t,a){var s={"./af":"8206","./af.js":"8206","./ar":"cdac","./ar-dz":"7f26","./ar-dz.js":"7f26","./ar-kw":"8e88","./ar-kw.js":"8e88","./ar-ly":"cd65","./ar-ly.js":"cd65","./ar-ma":"e8d6","./ar-ma.js":"e8d6","./ar-sa":"a284","./ar-sa.js":"a284","./ar-tn":"64f7","./ar-tn.js":"64f7","./ar.js":"cdac","./az":"b139","./az.js":"b139","./be":"98e2","./be.js":"98e2","./bg":"a1a5","./bg.js":"a1a5","./bm":"4d0d","./bm.js":"4d0d","./bn":"e8ae","./bn.js":"e8ae","./bo":"bcf2","./bo.js":"bcf2","./br":"69f1","./br.js":"69f1","./bs":"24d1","./bs.js":"24d1","./ca":"3507","./ca.js":"3507","./cs":"d15f","./cs.js":"d15f","./cv":"7bfe","./cv.js":"7bfe","./cy":"1d35","./cy.js":"1d35","./da":"a019","./da.js":"a019","./de":"0cfa","./de-at":"edea","./de-at.js":"edea","./de-ch":"9aae","./de-ch.js":"9aae","./de.js":"0cfa","./dv":"1722","./dv.js":"1722","./el":"5390","./el.js":"5390","./en-SG":"2088","./en-SG.js":"2088","./en-au":"dad9","./en-au.js":"dad9","./en-ca":"6f13","./en-ca.js":"6f13","./en-gb":"6267","./en-gb.js":"6267","./en-ie":"80b1","./en-ie.js":"80b1","./en-il":"ad38","./en-il.js":"ad38","./en-nz":"39db","./en-nz.js":"39db","./eo":"1a30","./eo.js":"1a30","./es":"48a3","./es-do":"f306","./es-do.js":"f306","./es-us":"60bf","./es-us.js":"60bf","./es.js":"48a3","./et":"f891","./et.js":"f891","./eu":"a403","./eu.js":"a403","./fa":"ce14","./fa.js":"ce14","./fi":"fc14","./fi.js":"fc14","./fo":"2bf2","./fo.js":"2bf2","./fr":"c1e8","./fr-ca":"50a2","./fr-ca.js":"50a2","./fr-ch":"b087","./fr-ch.js":"b087","./fr.js":"c1e8","./fy":"4665","./fy.js":"4665","./ga":"b396","./ga.js":"b396","./gd":"056c","./gd.js":"056c","./gl":"efde","./gl.js":"efde","./gom-latn":"8e2c","./gom-latn.js":"8e2c","./gu":"533d","./gu.js":"533d","./he":"7520","./he.js":"7520","./hi":"d2f3","./hi.js":"d2f3","./hr":"7e79","./hr.js":"7e79","./hu":"148f","./hu.js":"148f","./hy-am":"6711","./hy-am.js":"6711","./id":"2b10","./id.js":"2b10","./is":"1feb","./is.js":"1feb","./it":"1b21","./it-ch":"8d2c","./it-ch.js":"8d2c","./it.js":"1b21","./ja":"926e","./ja.js":"926e","./jv":"5a78","./jv.js":"5a78","./ka":"5975","./ka.js":"5975","./kk":"cc93","./kk.js":"cc93","./km":"66e1","./km.js":"66e1","./kn":"5421","./kn.js":"5421","./ko":"1297","./ko.js":"1297","./ku":"16f8","./ku.js":"16f8","./ky":"3df9","./ky.js":"3df9","./lb":"c124","./lb.js":"c124","./lo":"20a5","./lo.js":"20a5","./lt":"c14a","./lt.js":"c14a","./lv":"c553","./lv.js":"c553","./me":"ae25","./me.js":"ae25","./mi":"6f56","./mi.js":"6f56","./mk":"c8fc","./mk.js":"c8fc","./ml":"752d","./ml.js":"752d","./mn":"f09e","./mn.js":"f09e","./mr":"0a56","./mr.js":"0a56","./ms":"55b6","./ms-my":"a9e9","./ms-my.js":"a9e9","./ms.js":"55b6","./mt":"624b","./mt.js":"624b","./my":"e256","./my.js":"e256","./nb":"e1d5","./nb.js":"e1d5","./ne":"761a","./ne.js":"761a","./nl":"a0f2","./nl-be":"5cb2","./nl-be.js":"5cb2","./nl.js":"a0f2","./nn":"4fda","./nn.js":"4fda","./pa-in":"2f2f","./pa-in.js":"2f2f","./pl":"317f","./pl.js":"317f","./pt":"5553","./pt-br":"a9ab","./pt-br.js":"a9ab","./pt.js":"5553","./ro":"db12","./ro.js":"db12","./ru":"7aa4","./ru.js":"7aa4","./sd":"e87b","./sd.js":"e87b","./se":"a296","./se.js":"a296","./si":"51ec","./si.js":"51ec","./sk":"608b","./sk.js":"608b","./sl":"b367","./sl.js":"b367","./sq":"f68f","./sq.js":"f68f","./sr":"0991","./sr-cyrl":"c577","./sr-cyrl.js":"c577","./sr.js":"0991","./ss":"cf76","./ss.js":"cf76","./sv":"0153","./sv.js":"0153","./sw":"cb6f","./sw.js":"cb6f","./ta":"8bfa","./ta.js":"8bfa","./te":"668b","./te.js":"668b","./tet":"eae7","./tet.js":"eae7","./tg":"70b1","./tg.js":"70b1","./th":"7180","./th.js":"7180","./tl-ph":"f8bb","./tl-ph.js":"f8bb","./tlh":"b026","./tlh.js":"b026","./tr":"371d","./tr.js":"371d","./tzl":"c744","./tzl.js":"c744","./tzm":"787a","./tzm-latn":"71e0","./tzm-latn.js":"71e0","./tzm.js":"787a","./ug-cn":"6b5c","./ug-cn.js":"6b5c","./uk":"8c0c","./uk.js":"8c0c","./ur":"519e","./ur.js":"519e","./uz":"7982","./uz-latn":"3137","./uz-latn.js":"3137","./uz.js":"7982","./vi":"ae22","./vi.js":"ae22","./x-pseudo":"1129","./x-pseudo.js":"1129","./yo":"b4bf","./yo.js":"b4bf","./zh-cn":"fdc4","./zh-cn.js":"fdc4","./zh-hk":"747d","./zh-hk.js":"747d","./zh-tw":"d3e0","./zh-tw.js":"d3e0"};function r(e){var t=n(e);return a(t)}function n(e){var t=s[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}r.keys=function(){return Object.keys(s)},r.resolve=n,e.exports=r,r.id="0fd5"},5:function(e,t,a){e.exports=a("b9d6")},"52d6":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("button",{staticClass:"btn-create btn-primary"},[e._t("default"),e.showLoading?a("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}):e._e()],2),e.showLoading?a("span",{staticClass:"sr-only",attrs:{id:"loading-focus",tabindex:"-1"}},[e._v("Loading")]):e._e()])},r=[],n={props:["showLoading"],watch:{showLoading:function(e,t){e&&setTimeout(function(){var e=document.querySelector("#loading-focus");e&&e.focus()})}}},i=n,o=a("2877"),c=Object(o["a"])(i,s,r,!1,null,null,null);c.options.__file="loading-button.vue";t["a"]=c.exports},b9d6:function(e,t,a){"use strict";a.r(t);var s,r,n=a("a026"),i=a("8c4f"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._m(0),a("form",{on:{submit:function(t){return t.preventDefault(),e.submitForm(t)}}},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.textToGraph,expression:"textToGraph"}],ref:"textToGraph",staticClass:"col-lg-12 text-to-graph",attrs:{"aria-label":"ngram query"},domProps:{value:e.textToGraph},on:{input:function(t){t.target.composing||(e.textToGraph=t.target.value)}}}),e._m(1)]),a("div",{staticClass:"row"},[e._m(2),e._m(3),a("div",{},[a("loading-button",{attrs:{showLoading:e.showLoading}},[e._v("Graph")])],1)]),e.errors.length?a("div",{staticClass:"row"},[a("ul",{staticClass:"small alert-danger"},e._l(e.errors,function(t){return a("li",[e._v(e._s(t))])}),0)]):e._e()])]),a("div",{attrs:{id:"collapsePanels"}},[a("div",{staticClass:"collapse card",attrs:{id:"helpPanel","data-parent":"#collapsePanels"}},[a("div",{staticClass:"card-body"},[e._m(4),a("h5",{staticClass:"card-title"},[e._v("Wildcard search")]),e._m(5),a("h5",{staticClass:"card-title"},[e._v("Jurisdiction search")]),e._m(6),e._m(7),a("h5",{staticClass:"card-title"},[e._v("Jurisdiction codes")]),a("div",{staticClass:"row"},e._l(e.jurisdictions,function(t){return a("div",{key:t[0],staticClass:"col-4"},[a("p",[e._v("\n              "+e._s(t[1])+': "'),a("a",{attrs:{href:"#"},on:{click:function(a){return e.appendJurisdictionCode(t[0])}}},[e._v(e._s(t[0])+":")]),e._v('"\n            ')])])}),0)])]),a("div",{staticClass:"collapse card",attrs:{id:"optionsPanel","data-parent":"#collapsePanels"}},[a("div",{staticClass:"card-body"},[e._m(8),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"min-year"}},[e._v("From")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.minYear,expression:"minYear",modifiers:{number:!0}}],attrs:{id:"min-year",type:"number",min:"1640",max:"2018"},domProps:{value:e.minYear},on:{change:e.graphResults,input:function(t){t.target.composing||(e.minYear=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),a("label",{attrs:{for:"max-year"}},[e._v(" To")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.maxYear,expression:"maxYear",modifiers:{number:!0}}],attrs:{id:"max-year",type:"number",min:"1640",max:"2018"},domProps:{value:e.maxYear},on:{change:e.graphResults,input:function(t){t.target.composing||(e.maxYear=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),a("fieldset",{staticClass:"form-group",attrs:{"aria-describedby":"percentOrAbsHelpText"}},[a("small",{staticClass:"form-text text-muted",attrs:{id:"percentOrAbsHelpText"}},[e._v("\n            Show count as a percentage of all grams for the year, or an absolute number?\n          ")]),a("div",{staticClass:"form-check form-check-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.percentOrAbs,expression:"percentOrAbs"}],staticClass:"form-check-input",attrs:{type:"radio",name:"percentOrAbs",id:"percentOrAbs1",value:"percent"},domProps:{checked:e._q(e.percentOrAbs,"percent")},on:{change:[function(t){e.percentOrAbs="percent"},e.graphResults]}}),a("label",{staticClass:"form-check-label",attrs:{for:"percentOrAbs1"}},[e._v("Percentage")])]),a("div",{staticClass:"form-check form-check-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.percentOrAbs,expression:"percentOrAbs"}],staticClass:"form-check-input",attrs:{type:"radio",name:"percentOrAbs",id:"percentOrAbs2",value:"absolute"},domProps:{checked:e._q(e.percentOrAbs,"absolute")},on:{change:[function(t){e.percentOrAbs="absolute"},e.graphResults]}}),a("label",{staticClass:"form-check-label",attrs:{for:"percentOrAbs2"}},[e._v("Absolute number")])])]),a("fieldset",{staticClass:"form-group",attrs:{"aria-describedby":"countTypeHelpText"}},[a("small",{staticClass:"form-text text-muted",attrs:{id:"countTypeHelpText"}},[e._v("\n            Show count of cases containing your term, or count of individual instances of your term?\n          ")]),a("div",{staticClass:"form-check form-check-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.countType,expression:"countType"}],staticClass:"form-check-input",attrs:{type:"radio",name:"countType",id:"countType1",value:"doc_count"},domProps:{checked:e._q(e.countType,"doc_count")},on:{change:[function(t){e.countType="doc_count"},e.graphResults]}}),a("label",{staticClass:"form-check-label",attrs:{for:"countType1"}},[e._v("Case count")])]),a("div",{staticClass:"form-check form-check-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.countType,expression:"countType"}],staticClass:"form-check-input",attrs:{type:"radio",name:"countType",id:"countType2",value:"count"},domProps:{checked:e._q(e.countType,"count")},on:{change:[function(t){e.countType="count"},e.graphResults]}}),a("label",{staticClass:"form-check-label",attrs:{for:"countType2"}},[e._v("Instance count")])])]),a("fieldset",{staticClass:"form-group",attrs:{"aria-describedby":"sameYAxisHelpText"}},[a("small",{staticClass:"form-text text-muted",attrs:{id:"sameYAxisHelpText"}},[e._v("\n            Show all terms on the same Y axis (for comparing frequency) or scale each term to fill the Y axis (for comparing correlation)?\n          ")]),a("div",{staticClass:"form-check form-check-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.sameYAxis,expression:"sameYAxis"}],staticClass:"form-check-input",attrs:{type:"radio",name:"sameYAxis",id:"sameYAxis1"},domProps:{value:!0,checked:e._q(e.sameYAxis,!0)},on:{change:[function(t){e.sameYAxis=!0},e.graphResults]}}),a("label",{staticClass:"form-check-label",attrs:{for:"sameYAxis1"}},[e._v("Terms on the same Y axis")])]),a("div",{staticClass:"form-check form-check-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.sameYAxis,expression:"sameYAxis"}],staticClass:"form-check-input",attrs:{type:"radio",name:"sameYAxis",id:"sameYAxis2"},domProps:{value:!1,checked:e._q(e.sameYAxis,!1)},on:{change:[function(t){e.sameYAxis=!1},e.graphResults]}}),a("label",{staticClass:"form-check-label",attrs:{for:"sameYAxis2"}},[e._v("Terms scaled to fill Y axis")])])]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"formControlRange"}},[e._v("Smoothing")]),a("small",{staticClass:"form-text text-muted",attrs:{id:"smoothingFactorHelpText"}},[e.smoothingFactor>0?a("span",[e._v("\n              Data points will be averaged with the nearest "+e._s(e.smoothingFactor)+"% of other points.\n            ")]):a("span",[e._v("\n              No smoothing will be applied.\n            ")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.smoothingFactor,expression:"smoothingFactor"}],staticClass:"form-control-range",attrs:{type:"range",min:"0",max:"10",id:"formControlRange"},domProps:{value:e.smoothingFactor},on:{change:e.graphResults,__r:function(t){e.smoothingFactor=t.target.value}}})])])])]),a("div",{staticClass:"graph"},[a("div",{staticClass:"container graph-container"},[a("line-example",{ref:"chart",attrs:{chartData:e.chartData,options:e.chartOptions}})],1)])])},c=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-title"},[a("h1",[e._v("Ngrams")]),a("p",[e._v("View words and phrases in U.S. case law through time.")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-lg-12 description small"},[e._v("\n          Example searches:\n          "),a("a",{staticClass:"example-link",attrs:{href:"#/?q=apple, banana, orange"}},[e._v("\n            apple, banana, orange\n          ")]),e._v("\n          /\n          "),a("a",{staticClass:"example-link",attrs:{href:"#/?q=he said, she said"}},[e._v("\n            he said, she said\n          ")]),e._v("\n          /\n          "),a("a",{staticClass:"example-link",attrs:{href:"#/?q=a dangerous *"}},[e._v("\n            a dangerous *\n          ")]),e._v("\n          /\n          "),a("a",{staticClass:"example-link",attrs:{href:"#/?q=me: lobster, cal: gold, tex: cowboy"}},[e._v("\n            me: lobster, cal: gold, tex: cowboy\n          ")]),e._v("\n          /\n          "),a("a",{staticClass:"example-link",attrs:{href:"#/?q=*: apples"}},[e._v("\n            *: apples\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ml-auto mr-3"},[a("button",{staticClass:"btn-secondary",attrs:{type:"button","data-toggle":"collapse","data-target":"#optionsPanel","aria-expanded":"false","aria-controls":"optionsPanel"}},[e._v("\n            Graph options\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mr-3"},[a("button",{staticClass:"btn-secondary",attrs:{type:"button","data-toggle":"collapse","data-target":"#helpPanel","aria-expanded":"false","aria-controls":"optionsPanel"}},[e._v("\n            Help\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"close h40.7em ",attrs:{type:"button","data-toggle":"collapse","data-target":"#helpPanel","aria-controls":"helpPanel","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[e._v('\n          Search for all terms ending with a word by adding a "*" to the end, like\n          "'),a("a",{attrs:{href:"#/?q=ride a *"}},[e._v("ride a *")]),e._v('".\n        ')])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[e._v("\n          Limit a term to a particular jurisdiction by starting the term with that jurisdiction's code and a colon,\n          like \""),a("a",{attrs:{href:"#/?q=cal: gold mine"}},[e._v("cal: gold mine")]),e._v('".\n        ')])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[e._v('\n          Show all jurisdictions separately with a *, like "'),a("a",{attrs:{href:"#/?q=*: apples"}},[e._v("*: apples")]),e._v('".\n        ')])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"close h40.7em ",attrs:{type:"button","data-toggle":"collapse","data-target":"#optionsPanel","aria-controls":"optionsPanel","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])}],l=(a("ffc1"),a("6b54"),a("f751"),a("456d"),a("aef6"),a("4f96")),u=(a("551c"),a("cadf"),a("5df3"),a("28a5"),a("6c7b"),a("c5f6"),a("3835")),d=(a("ac4d"),a("8a81"),a("ac6a"),a("92ea")),h={extends:d["a"],mixins:[d["b"].reactiveProp],props:["options"],methods:{fullRerender:function(e,t){this.$data._chart&&this.$data._chart.destroy(),this.renderChart(e,t)}}},m=h,p=a("2877"),f=Object(p["a"])(m,s,r,!1,null,null,null);f.options.__file="LineChart.vue";var b=f.exports,v=a("52d6"),g=a("f7fe"),j=a.n(g),y={name:"Main",components:{LineExample:b,LoadingButton:v["a"]},beforeMount:function(){this.jurisdictions=[["*","Wildcard"]].concat(snippets.jurisdictions);var e=!0,t=!1,a=void 0;try{for(var s,r=this.jurisdictions[Symbol.iterator]();!(e=(s=r.next()).done);e=!0){var n=Object(u["a"])(s.value,2),i=n[0],o=n[1];this.jurisdictionLookup[i]=o}}catch(c){t=!0,a=c}finally{try{e||null==r.return||r.return()}finally{if(t)throw a}}this.urls=urls},mounted:function(){this.handleRouteUpdate(this.$route)},watch:{$route:function(e,t){this.handleRouteUpdate(e,t)}},data:function(){var e=this;return{chartData:{datasets:[]},chartNeedsRerender:!1,rawData:null,textToGraph:"apple pie, baseball",minYear:1800,maxYear:2018,minPossible:1640,maxPossible:2018,smoothingFactor:0,smoothingWindow:0,countType:"doc_count",percentOrAbs:"percent",sameYAxis:!0,previousSameYAxis:!0,jurisdictions:[],jurisdictionLookup:{},urls:{},selectedJurs:[],colors:["rgb(0,0,0)","rgb(73,0,146)","rgb(146,0,0)","rgb(0,73,73)","rgb(0,109,219)","rgb(146,73,0)","rgb(0,146,146)","rgb(182,109,255)","rgb(219,109,0)"],pointStyles:["circle","cross","crossRot","rect","rectRounded","rectRot","star","triangle"],errors:[],showLoading:!1,chartOptions:{responsive:!0,maintainAspectRatio:!1,legend:{labels:{boxWidth:20,usePointStyle:!0}},scales:{yAxes:[{id:"0",type:"linear",gridLines:{color:"rgba(0, 0, 0, 0)"},ticks:{beginAtZero:!0}}],xAxes:[{gridLines:{color:"rgba(0, 0, 0, 0)"}}]},tooltips:{callbacks:{title:function(t,a){var s=t[0].label;if(!e.smoothingWindow)return s;var r=Math.max(a.labels[0],Number(s)-e.smoothingWindow),n=Math.min(a.labels[a.labels.length-1],Number(s)+e.smoothingWindow);return"".concat(r,"-").concat(n)},label:function(t,a){var s=a.datasets[t.datasetIndex].label||"";return s&&(s+=": "),"percent"===e.percentOrAbs?s+=t.yLabel.toPrecision(3)+"% of":s+=t.yLabel,s+="count"===e.countType?" instances":" cases",s}}}}}},methods:{isValidYear:function(e){return""===e||this.minPossible<=e&&e<=this.maxPossible},clampYears:function(){if(this.isValidYear(this.minYear)||(this.minYear=this.minPossible),this.isValidYear(this.maxYear)||(this.maxYear=this.maxPossible),this.maxYear&&this.minYear&&this.minYear>this.maxYear){var e=[this.maxYear,this.minYear];this.minYear=e[0],this.maxYear=e[1]}},range:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e=Number(e),t=Number(t),Array(Math.ceil((t-e)/a)).fill(e).map(function(e,t){return e+t*a})},getTerms:function(e){var t=e.split(",");return t.map(function(e){return e.trim()})},submitForm:function(){var e={q:this.textToGraph};this.selectedJurs.length&&(e["jurs"]=this.selectedJurs),this.$router.push({path:"/",query:e})},handleRouteUpdate:function(e,t){var a=this,s=e.query;s.q&&(this.textToGraph=this.$route.query.q),this.errors=[];var r=s.q;if(void 0!==r)if(r.trim()){var n=this.getTerms(r);this.showLoading=!0,Promise.all(n.map(function(e){var t=e.split(/\s/),s=Object(l["a"])(t),r=s[0],n=s.slice(1),i="";if(r.endsWith(":")){var o=r.slice(0,-1);if(!a.jurisdictionLookup[o])return a.errors.push('Unknown jurisdiction "'.concat(o,'". Options are: ').concat(Object.keys(a.jurisdictionLookup))),null;i="&jurisdiction="+encodeURIComponent(o),e=n.join(" ")}var c=a.urls.api_root+"ngrams/?q="+encodeURIComponent(e)+i;return fetch(c).then(function(e){if(!e.ok)throw e;return e.json()}).then(function(t){return 0===Object.keys(t.results).length?(a.errors.push('"'.concat(e,'" appears fewer than 100 times in our corpus.')),null):t.results})})).then(function(e){var t=a.parseResponse(e);0!==Object.keys(t.results).length&&(a.rawData=t,a.graphResults(),a.showLoading=!1)}).catch(function(e){a.showLoading=!1,a.errors.push("Connection error: failed to load results"),console.log("Connection error:",e)})}else this.errors.push("Please enter text")},graphResults:j()(function(){var e=this;if(this.clampYears(),this.rawData){for(var t=[],a=this.rawData.minYear,s=this.rawData.maxYear,r=Math.max(a,this.minYear),n=Math.min(s,this.maxYear),i=this.rawData.colorOffset,o=!1,c=Object.entries(this.rawData.results),l=0;l<c.length;l++){var d=Object(u["a"])(c[l],2),h=d[0],m=d[1],p=m.map(function(t){return null===t?0:"absolute"===e.percentOrAbs?t[e.countType][0]:t[e.countType][0]/t[e.countType][1]*100});p=p.slice(r-a,n-a+1),p=this.movingAverage(p,n-r);var f=this.colors[i++%this.colors.length],b=n-r<50?3:0;t.push({label:h,borderColor:f,backgroundColor:"rgba(0, 0, 0, 0)",borderWidth:2,borderRadius:100,data:p,pointStyle:this.pointStyles[i%this.pointStyles.length],pointRadius:b,pointHitRadius:5,yAxisID:this.sameYAxis?"0":t.length.toString()})}var v=this.chartOptions.scales.yAxes;if(this.sameYAxis)v[0].display=!0;else if(v[0].display=!1,v.length<t.length){o=!0;for(var g=v.length;g<t.length;g++)v.push(Object.assign({},v[0],{id:g.toString()}))}this.sameYAxis!==this.previousSameYAxis&&(this.previousSameYAxis=this.sameYAxis,o=!0),this.chartData={labels:this.range(r,n+1),datasets:t},o&&this.$refs.chart.fullRerender(this.chartData,this.chartOptions)}},200),parseResponse:function(e){var t={},a=null,s=null,r=!0,n=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done);r=!0)for(var l=o.value,d=Object.entries(l),h=0;h<d.length;h++)for(var m=Object(u["a"])(d[h],2),p=m[0],f=m[1],b=Object.entries(f),v=0;v<b.length;v++){var g=Object(u["a"])(b[v],2),j=g[0],y=g[1],x=new Array(this.maxPossible+1).fill(null),_=!0,k=!1,w=void 0;try{for(var C,Y=y[Symbol.iterator]();!(_=(C=Y.next()).done);_=!0){var O=C.value,A=O["year"];"total"!==A&&(A=parseInt(A,10),(null===a||a>A)&&(a=A),(null===s||s<A)&&(s=A),x[A]=O)}}catch(q){k=!0,w=q}finally{try{_||null==Y.return||Y.return()}finally{if(k)throw w}}t[("total"===j?"":this.jurisdictionLookup[j]+": ")+p]=x}}catch(q){n=!0,i=q}finally{try{r||null==c.return||c.return()}finally{if(n)throw i}}for(var T=Object.keys(t),P=0;P<T.length;P++){var R=T[P];t[R]=t[R].slice(a,s+1)}var S=Math.floor(Math.random()*this.colors.length);return{colorOffset:S,minYear:a,maxYear:s,results:t}},movingAverage:function(e,t){var a=this,s=Math.floor(t*(this.smoothingFactor/100));return this.smoothingWindow=s,s<1?e:e.map(function(t,r){return a.average(e.slice(Math.max(r-s,0),Math.min(r+s,e.length)))})},average:function(e){return e.reduce(function(e,t){return e+t})/e.length},appendJurisdictionCode:function(e){this.textToGraph&&(this.textToGraph+=", "),this.textToGraph+=e+": ",this.$refs.textToGraph.focus()}}},x=y,_=Object(p["a"])(x,o,c,!1,null,null,null);_.options.__file="main.vue";var k=_.exports;n["a"].config.devtools=!0,n["a"].config.productionTip=!1,n["a"].use(i["a"]);var w=new i["a"]({routes:[{path:"/",component:k,name:"main"},{path:"*",redirect:"/"}]});new n["a"]({el:"#app",components:{Main:k},template:"<Main/>",router:w})}});
//# sourceMappingURL=ngrams.75cb743b.js.map